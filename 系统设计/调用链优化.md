借鉴netty源码和spring拦截器